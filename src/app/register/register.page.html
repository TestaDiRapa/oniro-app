<ion-header no-border>
  <ion-toolbar text-center>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="authentication"></ion-back-button>
    </ion-buttons>
    <ion-text style="font-size: 50px">ONIRO</ion-text>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form #f="ngForm" (ngSubmit)="onSubmit(f)">
      <ion-segment (ionChange)="onChange($event, f)">
          <ion-segment-button value="doc">Dottore</ion-segment-button>
          <ion-segment-button value="user" checked>Paziente</ion-segment-button>
        </ion-segment>
    <ion-grid>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-list>
            <ion-item>
              <ion-label position="floating">Nome</ion-label>
              <ion-input ngModel name="nome" required #nameCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Cognome</ion-label>
              <ion-input ngModel name="cognome" required #surnameCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Password</ion-label>
              <ion-input ngModel type="password" name="password" required minlength="8"
                #pswCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item *ngIf="pswCtrl.touched && !pswCtrl.valid" lines="none">
              <ion-label color="danger">Inserire minimo 8 caratteri</ion-label>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Telefono</ion-label>
              <ion-input ngModel type="tel" name="telefono" required #phoneCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">E-mail</ion-label>
              <ion-input type="email" ngModel name="email" required email #emailCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item *ngIf="isUser">
              <ion-label position="floating">Età</ion-label>
              <ion-input ngModel type="number" name="eta" required #etaCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item *ngIf="isUser">
              <ion-label position="floating">CF</ion-label>
              <ion-input ngModel name="cf" required minlength="15" #cfCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item *ngIf="!isUser">
              <ion-label position="floating">ID Albo</ion-label>
              <ion-input ngModel type="number" name="idalbo" required #idalboCtrl="ngModel"></ion-input>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
      <ion-row *ngIf=!isUser>
        <ion-col size-sm="6" offset-sm="3">
          <ion-card>
            <ion-card-header>
              <ion-card-title style="font-weight: bold; font-size: 20px;">Indirizzo Studio</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <ion-list>
                <ion-item>
                  <ion-label class="card" position="floating">Via</ion-label>
                  <ion-input ngModel name="via" required #viaCtrl="ngModel"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label class="card" position="floating">Civico</ion-label>
                  <ion-input ngModel type="number" name="civico" required #civicoCtrl="ngModel"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label class="card" position="floating">Città</ion-label>
                  <ion-input ngModel name="citta" required #cittaCtrl="ngModel"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label class="card" position="floating">Provincia</ion-label>
                  <ion-input ngModel name="provincia" required #provinciaCtrl="ngModel"></ion-input>
                </ion-item>
              </ion-list>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-button expand="block" type="submit" [disabled]="!f.valid">
              <ion-icon slot="end" ios="ios-person-add" md="md-person-add"></ion-icon>
            Submit</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>